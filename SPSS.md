# SPSS

## 变量名

### 起名规则

1.变量名不能多于8个字符；

2.首字符应以英文字母开头，后面可以跟除了"!、？、*"之外的字母或数字；下划线、圆点不能为变量名的最后一个字符；

3.变量名不区分大小写字母；允许汉字作为变量名，汉字总数不能超过4个；

4.变量名不能与SPSS内部特有的具有特定含义的保留字符相同，如：ALL、BY、AND、NOT、OR等；

5.SPSS默认的变量名以VAR三个字母开头，后面跟补足5位的数字。如：VAR00001；



## 数值型

### 标准数值型

默认最大显示宽度为8位，小数部分最大为2位，会按照四舍五入与科学计数法进行调整；但数据的显示并不影响真正数据的存储，也不影响数据的计算



### 逗号数值型

逗号数值型数据其整数部分从各位开始每3位以一个逗号分隔。默认最大显示宽度为8，小数位为2。逗号所占的位数包含在总显示宽度之内，当超过8位时，先会去掉逗号的显示，再按照标准数值型的显示调整方式调整数据的显示



### 圆点数值型

圆点数值型数据其整数部分从个位开始每3位以一个圆点分隔，以逗号作为整数和小数部分的分隔符。 它的默认最大显示宽度为8, 小数位为2 。当数据值的总宽度大于默认的8位时，SPSS会按照上述逗号数值型的显示调整规则自动调整数据的显示



### 科学记数法型



### 美元数值型

主要用来表示货币数据，在数据前附加美元符号$



##字符型

由一个字符串组成，显示宽度为8个字符位，不能进行算术运算，并且区分大小写



## 日期型

用于表示日期或时间，显示格式较多，有dd-mm-yyyy;mm/dd/yyyy



## 变量名标签

对变量名含义的说明，增强变量名的可视性和统计分析的可读性，总长度可为120字符



## 变量值标签

对变量取值含义的解释说明



## 变量列格式

用于改变变量列宽度或数据在编辑窗口中的对齐方式等



## 变量缺失值

当分析过程中，发现收集的数据可能失真、不合理，此时需将其对待为缺失值

SPSS中缺失值三种指定方法：

1.对一个字符型或数值型变量，缺失值可以是1至3个特定的值离散值

2.对一个数值型变量，缺失值可以在1个连续的 闭区间内

3.对一个数值型变量，缺失值可以在2个连续的开区间内，并可指定同一个离散值



## 变量度量方法

数据的度量方法可以大致分为定距度量和非定距度量两种，对应的数据就是定距数据和非定距数据

例如身高、血压等为定距数据；而高、中、低分别用1、2、3表示为非定距数据



## 共享文本格式文件数据

### 文本文件的格式类型

SPSS规定：默认的文本文件的扩展名应为.dat。同时对文本文件中的数据排列方式也进行了规定，即按数据的排列方式分为文本文件固定格式的文本文件和自由格式的文本文件。

固定格式文本文件：一个个案数据可以占若干行；每个个案数据的每个变量值的起始列和终止列必须是固定不变的；数据项之间可以有分隔符，也可以没有。分隔符一般是逗号、空格等

自由格式文本文件：一个个案数据可以占若干行；每个个案数据的每个变量值的起始列和终止列可以不固定；数据项之间必须有一个分隔符。分隔符可以是逗号、空格、Tab键以及其他的用户自定义分隔符



## 个案排序

当排序变量只有一个时的排序称为单值排序，即：按照排序变量取值的大小次序对个案数据重新整理后显示。当排序变量是多个的排序称为多重排序。多重排序的第一个排序变量称为主排序变量，其他排序变量依次称为第二排序变量、第三排序变量等



## 个案选取

### 选择符合条件的个案

当选取符合一定条件的个案要求用户给出一个SPSS条件表达式，程序会自动对数据编辑窗口的所有个案进行条件判断，对满足条件的数据，将自动选取出来，而判断条件为假的数据将被剔除出去



###随机选取个案

随机选取个案就是度数据编辑窗口中的所有个案进行随机筛选

#### 近似选取

需给出一个百分比数值，SPSS按照这个比例，随机抽取相应百分比数目的个案

#### 精确选取

需要用户给出两个参数：第一个参数是希望选取的个案数；第二个是指定在前几个个案中选取

#### 选取某一区域内的个案

抽取一定范围内的全部个案，需要给出这个范围的上、下界的个案号码

#### 使用过滤变量选取个案

要求用户指定一个已存在的个案选取标准，变量值为0或系统缺失值的个案将被自动剔除掉，而其余的个案将自动选中



## SPSS算术表达式

1.字符型常量应用单引号引起来

2.SPSS变量名是指那些已存在于数据编辑窗口中的现有的变量名

3.SPSS的算术运算符主要包括：加减乘除，乘方（**）

4.SPSS算术表达式中的常量和变量的类型应该是一致的，否则无法计算

5.在SPSS中，算术表达式的计算是针对于每个个案的

6.存放SPSS算术表达式结果的变量，变量类型应与计算结果的数据类型一致



## SPSS函数

算术函数、统计函数、分布函数、逻辑函数、字符串函数、日期时间函数、缺失值函数和其他函数

具体见《统计分析与SPSS的应用》——薛薇（P39）



## 数据分组

指定分组变量；定义分组变量的分组区间；指定一个存放分组结果的标志变量，标志每个个案所属组的组号

### 数据自动分组

### 数据手工分组



## 插入SPSS文本

当需要在分析结果中插入一些自己的评述观点时，可以在相应子树项处选定，从**插入**-**新建文本**中输入相应文字



## 格式对齐

为使分析结果和报表打印出来后有较好的视觉效果，可以使用对齐处理：选中相应的子树或子树项，在**格式**中选择需要的对齐方式



## 改变索引输出区的显示样式

### 改变索引树的显示字体

**查看**-**大纲字体**

### 改变索引树的显示大小

**查看**-**大纲大小**



## 添加表格组成部分

使表格进入编辑状态，通过**Insert**进行输入



## 隐藏显示表格中内容

将需要隐藏的内容选定，通过**查看**-**隐藏**将其隐藏

当需要查看所有项目时，点击**显示所有选项**



## 表格行列互换

需要先使表格进入编辑状态

1.通过**透视**-**行列互置**完成

2.通过**透视**-**转到层（列）**

3.通过**透视**-**透视托盘**，在通过鼠标移动相应的图标完成



## 修改表格单元的外观

可以进行更改显示字体、数据显示格式、数据对齐方式等属性

1.使被处理的表格进入编辑状态

2.选中欲修改外观的单元

3.**格式**-**修改单元属性**



## 修改表格的外观和样式

1.使被处理的表格处于编辑状态

2.**格式**-**表属性**

或

1.使被处理的表格处于编辑状态

2.**格式**-**表外观**



## 峰度

用来描述某变量所有取值分布形态陡缓程度的统计量（相对于正太分布而言）
$$
Kurtosis = \frac{1}{n-1}\sum_{i=1}^{n}(x_i-\overline{x})^4/SD^4-3
$$
当峰度为0时，表示数据分布于正太分布的陡缓程度相同；峰度大于0表示比正太分布高峰要更陡峭，为尖峰顶；峰度大于0表示比正太分布的高峰要平坦，为平峰顶



## 偏度

用来描述某变量所有取值分布形态的对称性的统计量
$$
Skewness = \frac{1}{n-1}\sum_{i=1}^n(x_i-\overline{x})^3/SD^3
$$
与正太分布相比，偏度为0表示其数据分布形态与正太分布偏度相同，左右对称；偏度大于0表示正偏差数值较大，为正偏或称为右偏，有一条长尾拖在右边；偏度小于0则相反；偏度的绝对值越大表示数据的分布形态的偏斜程度越大



## 多重响应

对于多选题，可以使用二分法，即将题目中的子题目分为多个单选题，此时需要告诉SPSS该题其实是多选题；设定方式为在**分析→多重响应→二分法**中进行

但当选项较多且规定可选项较少时，采用上述方法较为浪费空间，此时可将其值设定为值标签并将所有选项输入，最后再用多重响应的方法将输入的数据组合，但此时需要选定**类别**项



## 假设检验

1.根据推断检验的目标，对待推断的总体参数或分布作一个基本假设$H_0$

2.利用收集到的样本数据和基本假设计算某检验统计量，该统计量服从或近似服从某统计分布

3.根据该统计量的值得到对应的相伴概率值。某统计量的相伴概率值是指该检验统计量在某个特定的极端区域取值在$H_0$成立时的概率

4.做出片段。用户给出一个显著性水平$\alpha$。如果相伴概率值小于或等于用户给定的显著性水平，则拒绝$H_0$，否则，如果相伴概率值大于用户给定的显著性水平，则不能拒绝



### 两独立样本t检验

#### 前提要求

1.两样本应是相互独立的，即从一总体中抽取一批样本对从另一总体中抽取一批样本没有任何影响，两组样本的个案数目可以不同，个案顺序可以随意调整

2.样本来自的两个总体应服从正态分布



#### 基本实现思路

1.利用F检验判断两总体的方差是否相等

依然使用假设检验的方法，假设**$H_{0}：两总体方差无差异$**；首先，对来自两个不同总体的样本分别计算样本均值。计算每个样本与本组样本均值的差，并对差取绝对值。于是得到两组绝对值差值序列；再利用单因素方差分析方法，判断两组绝对差值序列之间是否存在显著差异，即判断平均离差是否存在显著差异，从而间接判断两组方差是否存在显著差异

2.根据前一步的判断结果决定t统计量和自由度的计算公式，进而对t检验的结论作出判断

根据前一步的判断结果决定t统计量和自由度的计算公式：

1）在两总体方差未知且相等的情况下，t统计量计算公式：
$$
t=\frac{\overline{\chi}_1-\overline{\chi}_2}{\sqrt{S_{p}^2/n_1+S_{p}^2/n_2}}
$$
式中：
$$
S_{p}^2=\frac{(n_1-1)S_1^2+(n_2-1)S_2^2}{n_1+n_2-1}
$$
这里，t统计量服从$n_1+n_2-2$个自由度的t分布



2）在两总体方差未知且不相等的情况下，t统计量计算公式：


$$
t=\frac{\overline{\chi}_1-\overline{\chi}_2}{\sqrt{S_{p}^2/n_1+S_{p}^2/n_2}}
$$
这里，t统计量仍服从t分布，但自由度采用修正的自由度：
$$
f=\frac{(\frac{S_1^2}{n_1}+\frac{S_2^2}{n_2})^2}{\frac{(\frac{S_1^2}{n_1})^2}{n_1}+\frac{(\frac{S_2^2}{n_2})^2}{n_2}}
$$



### 两配对样本t检验

#### 前提要求

1.两样本应是配对的：观察值数目相同；两样本的观察值的顺序不能随意更改

2.样本来自的两个总体应服从正态分布



## 非假设检验

### 卡方检验

根据样本数据推断总体的分布于期望分布或某一理论分布是否有显著差异



### 二项分布检验

在样本数小于等于30时，按照计算二项分布概率的公式进行计算；在样本数大于30时，计算的是Z统计量，认为在零假设下，Z统计量近似服从正态分布。Z统计量的计算公式为：
$$
Z = \frac{K\pm0.5-nP}{\sqrt{nP(1-P)}}
$$
式中：K是观察值取值为指出检验值的样本个数，P为检验概率，n为样本总数。当K小于$n/2$时，取加号，K大于$n/2$时，取减号



### 单样本K-S检验

利用样本数据推断总体是否服从某一理论分布，适用于探索连续型随机变量的分布形态



### 单样本变量值随机性检验

对某变量的变量值出现是否随机进行检验



## 单样本非参数检验方法的比较

在上面的四种单样本参数检验中，前三种方法均属于拟合性检验的范畴。因此，当检验样本来自的总体是否服从某种理论分布时，可以选用前三种方法中的一种。但在实际使用中，应注意这些检验方法对数据的要求。

1.卡方检验一般要求待检验样本有较大的样本容量，比较适合于一个因素的多项分类的数据分析

2.二项分布检验只能作二项分布检验

3.单样本K-S检验比较适合于连续型数据的分析，其检验功效是比较强的

